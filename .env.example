# =============================================================================
# MechaMap Realtime Server Configuration
# =============================================================================

# Server Configuration
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# SSL Configuration (for HTTPS/WSS)
SSL_ENABLED=true
SSL_CERT_PATH=./deployment/ssl/localhost.crt
SSL_KEY_PATH=./deployment/ssl/localhost.key

# Database Configuration (MySQL)
DB_HOST=localhost
DB_PORT=3306
DB_NAME=mechamap_backend
DB_USER=root
DB_PASSWORD=
DB_CONNECTION_LIMIT=10
DB_TIMEOUT=60000

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_PREFIX=mechamap_realtime:

# JWT Configuration
JWT_SECRET=your_super_secure_jwt_secret_key_here
JWT_EXPIRES_IN=1h
JWT_ALGORITHM=HS256

# Laravel Integration
LARAVEL_API_URL=ttps://mechamap.com
LARAVEL_API_KEY=your_laravel_api_key_here
LARAVEL_DB_CONNECTION=true

# CORS Configuration
ALLOWED_ORIGINS=https://mechamap.com,https://www.mechamap.com
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# WebSocket Configuration
WS_PING_TIMEOUT=60000
WS_PING_INTERVAL=25000
WS_MAX_HTTP_BUFFER_SIZE=1e6
WS_TRANSPORTS=websocket,polling
WS_UPGRADE_TIMEOUT=10000

# Connection Limits
MAX_CONNECTIONS=10000
MAX_CONNECTIONS_PER_USER=5
CONNECTION_TIMEOUT=30000
HEARTBEAT_INTERVAL=25000

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# Monitoring & Health Checks
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
PROMETHEUS_METRICS=true

# Performance Tuning
CLUSTER_ENABLED=false
CLUSTER_WORKERS=auto
MEMORY_LIMIT=1024
GC_INTERVAL=300000

# Security
HELMET_ENABLED=true
COMPRESSION_ENABLED=true
TRUST_PROXY=false

# Development Settings
DEBUG_MODE=false
VERBOSE_LOGGING=false
MOCK_LARAVEL_API=false

# Production Settings (override in .env.production)
# SSL_CERT_PATH=/etc/letsencrypt/live/realtime.mechamap.com/fullchain.pem
# SSL_KEY_PATH=/etc/letsencrypt/live/realtime.mechamap.com/privkey.pem
# LARAVEL_API_URL=https://mechamap.com
# ALLOWED_ORIGINS=https://mechamap.com,https://www.mechamap.com
# LOG_LEVEL=warn
# CLUSTER_ENABLED=true
# CLUSTER_WORKERS=4
